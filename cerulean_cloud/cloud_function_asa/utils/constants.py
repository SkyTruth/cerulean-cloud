"""Constants for Automatic Source Association handler
"""

import numpy as np

# TEMPORAL PARAMETERS FOR AIS
HOURS_BEFORE = 6
HOURS_AFTER = 2
TIMESTEPS_PER_HOUR = 6
NUM_TIMESTEPS = HOURS_BEFORE * TIMESTEPS_PER_HOUR

WEIGHT_START = 2.0
WEIGHT_END = 0.0
WEIGHT_VEC = np.linspace(WEIGHT_START, WEIGHT_END, NUM_TIMESTEPS) / NUM_TIMESTEPS

D_FORMAT = "%Y-%m-%d"
T_FORMAT = "%Y-%m-%d %H:%M:%S"

# BUFFERING PARAMETERS FOR AIS
AIS_PROJECT_ID = "world-fishing-827"
AIS_BUFFER = 20000  # buffer around GRD envelope to capture AIS
SPREAD_RATE = 1000  # meters/hour perpendicular to vessel track
BUF_START = 100
BUF_END = BUF_START + SPREAD_RATE * HOURS_BEFORE
BUF_VEC = np.linspace(BUF_START, BUF_END, NUM_TIMESTEPS)

# WEIGHTING PARAMETERS FOR AIS
VESSEL_W_ARF = 1.0
VESSEL_W_TEMPORAL = 1.0
VESSEL_W_OVERLAP = 1.0
VESSEL_W_DISTANCE = 2.0
VESSEL_REF_DIST = 4000.0

# PARAMETERS FOR INFRASTRUCTURE
INFRA_CLOSING_BUFFER = 500
INFRA_NUM_VERTICES = 10
INFRA_CUTOFF_RADIUS = 3000
INFRA_DECAY_RADIUS = 1500
INFRA_DECAY_THETA = 0.5

# PARAMETERS FOR DARK VESSEL
DARK_CLOSING_BUFFER = 500
DARK_NUM_VERTICES = 2
DARK_CUTOFF_RADIUS = 50000
DARK_DECAY_RADIUS = 15000
DARK_DECAY_THETA = 10.0
DARK_W_ARF = 1.0
DARK_W_COINCIDENCE = 1.0


# COLLATION PARAMETERS
# https://skytruth.atlassian.net/browse/TECH-2674
DARK_MEAN = 0.3
DARK_STD = 0.16
INFRA_MEAN = 0.3
INFRA_STD = 0.16
VESSEL_MEAN = 0.576
VESSEL_STD = 0.163
NATURAL_MEAN = 0.0  # Placeholder
NATURAL_STD = 1.0  # Placeholder
